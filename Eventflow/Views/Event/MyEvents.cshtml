@using Eventflow.Domain.Models.ViewModels
@model CalendarPageViewModel

@{
    Layout = "~/Views/Shared/_CalendarLayout.cshtml";

    var date = (Model?.Navigation != null)
                ? new DateTime(Model.Navigation.CurrentYear, Model.Navigation.CurrentMonth, 1)
                : (DateTime?)null;

    ViewData["Title"] = date != null
                    ? $"Calendar - {date:MMMM yyyy}"
                    : "Calendar";
}

<input type="hidden" id="calendarView" value="personal" />

<div class="w-100" style="max-width: 1100px;">
    <div id="calendarOuterWrapper">
        @await Html.PartialAsync("~/Views/Shared/Partials/Calendar/_CalendarWrapper.cshtml", new CalendarComponentViewModel
           {
               Calendar = Model!.Calendar,
               Navigation = Model!.Navigation
           })
    </div>
</div>

@section Scripts {
    <script src="~/js/calendar.js" asp-append-version="true"></script>
    <script src="~/js/invite_modal.js" asp-append-version="true"></script>
}